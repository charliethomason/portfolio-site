/*! account-summary-2014 31-10-2014 */
function moveGraph(a){var b=$(a).data("graph-control"),c=($("#"+b).width(),$("#"+b).parents(".graph-data-overflow").width(),$(a).data("graph-nav")),d=$("#"+b).parents(".graph-data-overflow");"prev"===c?$(d).animate({scrollLeft:"-=80"},300,function(){}):$(d).animate({scrollLeft:"+=80"},300,function(){})}function showModal(a){var b=$(window).height(),c=$(window).width(),d=$(a).outerHeight(),e=$(a).outerWidth(),f=$(document).height(),g=$(window).scrollTop(),h=.9*c,i=h/2*-1;$("#modal-screen").css({width:c,height:f}),$("#modal-screen").show(),e>h?$(a).hasClass("expanded-modal")?($(a).css({left:"50%","margin-left":"-150px",top:(b-d)/2+g,width:"260px"}),$(a).show()):($(a).css({left:"50%","margin-left":i,top:(b-d)/2+g,width:h}),$(a).show()):($(a).css({left:"50%","margin-left":"-"+e/2+"px",top:(b-d)/2+g}),$(a).show()),$("#modal-screen, .close-modal, .goalmaker-close-button").click(function(a){a.preventDefault(),$("#modal-screen, .modal-content").hide()}),$(document).keyup(function(a){27==a.keyCode&&$("#modal-screen, .modal-content").hide()}),$(window).resize(function(){var b=($(window).height(),$(window).width()),c=$(document).height(),d=($(a).outerHeight(),.9*b),f=d/2*-1;$("#modal-screen").css({width:b,height:c}),$(window).width()<=799&&e>d&&$(a).css($(a).hasClass("expanded-modal")?{"margin-left":"-150px",width:"260px"}:{"margin-left":f,width:d})})}function updateContributions(){var a=$(".graph > .graphAmount.load");65===$(a).height()?$(a).css("height","80px"):$(a).css("height","65px"),$(".goal-gap-text").toggle(),$(".est-retirement-income-contrib").toggle()}function increaseAmountText(){var a,b=$(".amountText.amount"),c=b.text().replace("$","").replace(",",""),d=2658,e="$";a=c;var f=setInterval(function(){a===d?(clearInterval(f),b.css("color","green")):(a++,b.text(e+a),b.text(b.text().replace("$2","$2,")))},5)}function growBars(){$(".graph-click-spot").each(function(){var a=$(this).data("bar-height");$(this).animate({height:a},300,function(){$(this).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){$(this).addClass("all-grown-up"),"graph-click-spot-11"===$(this).attr("id")&&moveLines()})})})}function mobileGrowBars(){var a=$(window).scrollTop()+$(window).height(),b=$(".bar-graph-wrap").offset().top+100;a>b&&($(".graph-click-spot").each(function(){var a=$(this).data("bar-height");$(this).animate({height:a},50,function(){$(this).on("transitionend webkitTransitionEnd oTransitionEnd MSTransitionEnd",function(){$(this).addClass("all-grown-up")})})}),moveLines(),$(window).off("scroll",mobileGrowBars))}function moveLines(){$("#line-graph-mask").animate({width:"0"},100,function(){})}function showStickyThead(){var a=$(window).scrollTop(),b=$(".scroll-table"),c=$(".non-scroll-table"),d=b.offset().top,e=d+b.height(),f=c.offset().top,g=f+c.height(),h=$("#sticky-thead-1"),i=$("#sticky-thead-2"),j=$(".historical-table-wrap"),k=$("#sticky-top-corner");$(window).width()>=600&&($("#investments-tab-data").hasClass("hide-menu")?(a>d?h.hasClass("shown")||(h.addClass("shown"),k.addClass("shown"),h.scrollLeft(j.scrollLeft())):(h.removeClass("shown"),k.removeClass("shown")),a>e&&(h.removeClass("shown"),k.removeClass("shown"))):(a>f?i.hasClass("shown")||i.addClass("shown"):i.removeClass("shown"),a>g&&i.removeClass("shown")))}function tableRowHeights(){$(".scroll-table > tbody").children("tr:not(.summary)").each(function(){var a=$(this).children(".headcol").data("height"),b=$(this).children("td");b.each(function(){$(this).css($(this).hasClass("two-line-benchmark-heading")?{height:a+"px",lineHeight:"16px"}:$(this).hasClass("headcol")&&!$(this).hasClass("first-table-row")||$(this).hasClass("secondcol")?{height:a+1+"px",lineHeight:a+"px"}:{height:a+"px",lineHeight:a+"px"})})})}$(function(){$(".modal").click(function(a){if(a.preventDefault(),a.stopPropagation(),$(this).attr("data-mobile-modal")&&$(window).width()<800){var b="#"+$(this).data("mobile-modal");showModal(b)}else{var c="#"+$(this).data("modal");$(".goalmaker-modal").is(":visible")&&$(".goalmaker-modal:visible").not(c).hide(),showModal(c)}}),$(".graph-data-overflow").scroll(function(){var a=$(this).scrollLeft();0===a?$("#graph-arrow-left").addClass("inactive"):a>=344?$("#graph-arrow-right").addClass("inactive"):$(".graph-arrow").removeClass("inactive")}),$(".graph-arrow").click(function(a){a.preventDefault(),a.stopPropagation(),moveGraph(this)}),$(".graph-click-spot > span").click(function(a){if($(window).width()<=799){a.preventDefault(),a.stopPropagation();var b=$(this).parent(),c="#"+b.data("graph-popup");$(".graph-popup").not($(c)).hide(),$(c).show(),$(".graph-click-spot").not(b).removeClass("active"),b.toggleClass("active")}}).hover(function(){if($(window).width()>=800){var a=$(this).parent(),b="#"+a.data("graph-popup");$(".graph-popup").not($(b)).hide(),$(b).toggle(),$(".graph-click-spot").not(a).removeClass("active"),a.toggleClass("active")}}),$(".dropdown-select li a").click(function(a){a.preventDefault(),a.stopPropagation();var b=$(this).text(),c=$(this).parents(".dropdown-select"),d=$(c).attr("id"),e=$('a.dropdown-select-toggle[data-menu-toggle="'+d+'"]');$(e).text(b).addClass("closed"),$(c).addClass("hide-menu")}),$(".menu-toggle").click(function(a){a.preventDefault(),a.stopPropagation();var b=$(this).data("menu-toggle");if($(this).hasClass("tab-toggle"))$(this).addClass("active"),$(".tab-toggle").not(this).removeClass("active"),$("#"+b).removeClass("hide-menu"),$(".tab-data-wrap").not("#"+b).addClass("hide-menu");else if($(this).hasClass("tooltip-toggle"))$(".tooltip-toggle:not(.closed)").not(this).addClass("closed"),$(".tooltip-popup:not(.hide-menu)").not("#"+b).addClass("hide-menu"),$(this).toggleClass("closed"),$("#"+b).toggleClass("hide-menu");else if($(this).hasClass("fund-summary-toggle")){$(this).toggleClass("closed"),$(this).parents("tr").toggleClass("open"),$("#"+b).toggle();var c=$("#"+b).find(".fund-summary").outerHeight();$(this).hasClass("closed")||($("#"+b).css("height",c),$("#"+b).children("td").css("height",c))}else if($(this).hasClass("dropdown-toggle"))$(this).toggleClass("closed"),$("#"+b).toggleClass("hide-menu"),$(".dropdown-toggle:not(.closed)").not(this).addClass("closed"),$(".dropdown-menu:not(.hide-menu)").not("#"+b).addClass("hide-menu");else if($(this).hasClass("single-accordion-open")){if($(this).hasClass("closed"))switch($(this).toggleClass("closed"),$("#"+b).slideToggle(),$(".accordion-toggle").not(this).addClass("closed"),$(".accordion-data-wrap").not("#"+b).slideToggle(),b){case"investments-accordion-need-help-yes":$.cookie("manage-investments-need-help","yes");break;case"investments-accordion-need-help-no":$.cookie("manage-investments-need-help","no")}}else $(this).hasClass("animated-toggle")?($(this).toggleClass("closed"),$("#"+b).slideToggle("slow")):($(this).toggleClass("closed"),$("#"+b).toggleClass("hide-menu"))}),$("#investments-sort-select li a").click(function(a){a.preventDefault();var b=$(this).data("select-value");$(".accordion-investments-section").each(function(){$(this).addClass("hide-section")}),$("#investments-view-by-"+b).removeClass("hide-section")}),$("#sitemap-account-select li a").click(function(a){a.preventDefault();var b=$(this).data("select-value");$(".bottom-site-map-wrap").addClass("hide-section"),$("#sitemap-"+b).removeClass("hide-section")}),$(".click-to-close-popup").click(function(){$(this).addClass("hide-menu"),$(this).siblings(".tooltip-toggle").addClass("closed")}),$(".close-popup").click(function(){if($(this).hasClass("graph-close")){var a=$(this).parents(".graph-click");$(a).find(".graph-click-spot").removeClass("active"),$(a).find(".graph-popup").hide()}else if($(this).hasClass("tooltip-close")){var b=$(this).parents(".tooltip-wrap");$(b).find(".tooltip-toggle").addClass("closed"),$(b).find(".tooltip-popup").addClass("hide-menu")}}),$(".graph-popup, .tooltip-popup").click(function(a){a.preventDefault(),a.stopPropagation()}),$(document).click(function(){$(".tooltip-popup:not(.hide-menu)").addClass("hide-menu"),$(".tooltip-toggle:not(.closed)").addClass("closed")}),$(document).click(function(){$(".dropdown-menu:not(.hide-menu)").each(function(){$(this).addClass("hide-menu"),$(this).siblings(".dropdown-toggle").addClass("closed")})}),$(".mobile-left-nav-toggle").click(function(a){a.preventDefault();var b=this;$("#inner-wrapper").animate({left:$(b).hasClass("open")?"0":"70%"},"fast",function(){$(b).toggleClass("open")})}),$(".close-mobile-left-nav").click(function(a){a.preventDefault(),$("#inner-wrapper").animate({left:"0"},"fast",function(){$(".mobile-left-nav-toggle").removeClass("open")})}),$("#page-options-close > a").click(function(a){a.preventDefault(),$("#page-options-box").addClass("collapsed")}),$("#page-options-icon > a").click(function(a){a.preventDefault(),$("#page-options-box").removeClass("collapsed")}),$("input.page-options-radio").change(function(){var a=$(this).attr("value");switch(a){case"sidebar-normal":$("#enrollment1").show(),$("#enrollment1-a, #enrollment1-b").hide(),$.cookie("enrollment-sidebar","sidebar-normal");break;case"sidebar-a":$("#enrollment1-a").show(),$("#enrollment1, #enrollment1-b").hide(),$.cookie("enrollment-sidebar","sidebar-a");break;case"sidebar-b":$("#enrollment1-b").show(),$("#enrollment1, #enrollment1-a").hide(),$.cookie("enrollment-sidebar","sidebar-b");break;case"contrib-simple":$(".complex-contributions-form-row").hide(),$(".gray-arrow-right").removeClass("complex-form-arrow"),$.cookie("contributions-version","contrib-simple");break;case"contrib-complex":$(".complex-contributions-form-row").css("display","table-row"),$(".gray-arrow-right").addClass("complex-form-arrow"),$.cookie("contributions-version","contrib-complex")}}),$("table th").each(function(){var a=$(this).data("width");$(this).css("width",a)}),$(".table-scroll.left").click(function(a){a.preventDefault(),$(".table-data-wrap.historical-table-wrap").animate({scrollLeft:"-=100"},300,function(){})}),$(".table-scroll.right").click(function(a){a.preventDefault(),$(".table-data-wrap.historical-table-wrap").animate({scrollLeft:"+=100"},300,function(){})}),$(".historical-table-wrap").scroll(function(){var a=$(this),b=a.find("th.col:not(.secondcol)"),c=a.width(),d=a.scrollLeft(),e=0;b.each(function(){e+=$(this).outerWidth(!0)});var f=e-c;0===d?$(".table-scroll.left").addClass("inactive"):d>=f?$(".table-scroll.right").addClass("inactive"):$(".table-scroll").removeClass("inactive")}),$("#performance-show-benchmarks").change(function(){var a=$(this).siblings("label");$(a).hasClass("checked")?($(this).removeAttr("checked"),$(a).removeClass("checked"),$(".benchmark").toggleClass("hide-section")):($(this).attr("checked","checked"),$(a).addClass("checked"),$(".benchmark").toggleClass("hide-section"))}),$(".performance-only-my-investments").change(function(){{var a=$(this).next("label");$(this).attr("name")}table=$(this).data("table"),tableBody=$(table).find("tbody"),$(this).attr("checked","checked"),$(this).siblings("input:radio").removeAttr("checked"),$(a).addClass("checked"),$(this).siblings("label").not(a).removeClass("checked"),$(tableBody).children("tr.not-my-investment-row").toggle()}),$(".show-more-toggle").click(function(a){a.preventDefault();var b="#"+$(this).data("show-more"),c=$(this).data("alt-show-text"),d=$(this).data("alt-hide-text");$(b).toggleClass("hide-section"),$(this).toggleClass("closed"),$(this).text($(this).hasClass("closed")?c:d)}),$(".contribution-adjust-increase").click(function(a){a.preventDefault();var b,c=$(this).siblings(".contribution-adjust-input"),d=parseInt(c.val()),e=$("#estimated-impact-x"),f=(parseInt(e.text()),$("#estimated-impact-increase-decrease"),$(".contributions-white-screen"));f.hasClass("shown")&&f.removeClass("shown"),d>=0&&(b=d+1,c.val(b+"%"),updateContributions())}),$(".contribution-adjust-decrease").click(function(a){a.preventDefault();var b,c=$(this).siblings(".contribution-adjust-input"),d=parseInt(c.val()),e=$("#estimated-impact-x"),f=(parseInt(e.text()),$("#estimated-impact-increase-decrease"),$(".contributions-white-screen"));f.hasClass("shown")&&f.removeClass("shown"),d>0&&(b=d-1,c.val(b+"%"),updateContributions())}),$(".form-checkbox-label").click(function(a){a.preventDefault();var b=$(this).attr("for");$("#"+b).trigger("click")}),$(".form-checkbox-label a").click(function(a){a.stopPropagation()}),$("#contributions-auto-increase").change(function(a){a.preventDefault();var b=$(this).siblings("label");$(b).hasClass("checked")?($(b).removeClass("checked"),$(this).removeAttr("checked")):($(b).addClass("checked"),$(this).attr("checked","checked"))}),$(".contributions-modal .modal-button").click(function(a){a.preventDefault(),$("#modal-screen, .modal-content").hide()}),$("#contributions-apply-changes").click(function(){$.cookie("contributions-apply-changes","yes")}),$('a[href="contributions.html"]').click(function(a){var b=$.cookie("contributions-apply-changes");"yes"===b&&"#nocookie"!==window.location.hash&&"#removecookie"!==window.location.hash&&(a.preventDefault(),window.location.href="contributions-pending.html")}),$("#action-manage-investments-nothanks").click(function(a){a.preventDefault();var b=$('.accordion-toggle[data-menu-toggle="investments-accordion-need-help-no"]');b.trigger("click"),$.cookie("manage-investments-need-help","no")}),$(".action-manage-investments-gethelp").click(function(a){var b=$('.accordion-toggle[data-menu-toggle="investments-accordion-need-help-yes"]');a.preventDefault(),b.trigger("click"),$(window).scrollTop($(window).width()<=799?b.offset().top:b.offset().top-65),$.cookie("manage-investments-need-help","yes")}),$("a#clickable-jpg-change-beneficiary-information").click(function(a){a.preventDefault(),$(".clickable-jpg").toggle()}),$("#clickable-jpg-transfers-message-toggle").click(function(a){a.preventDefault(),$(".clickable-jpg").toggle(),$(".clickable-jpg-hotspot").toggleClass("open")}),$(window).resize(function(){function a(){if($(window).width()<=599&&$("body").hasClass("investment-performance")&&$("td.row-fund-data").attr("colspan","2"),$(window).width()<=799&&($("#page-options-box").addClass("collapsed"),$(".sticky-thead-wrapper").removeClass("shown"),$("#sticky-top-corner").removeClass("shown")),$(window).width()>=600&&$("body").hasClass("investment-performance")){var a=$(".historical-table-wrap").width();tableRowHeights(),$("td.row-fund-data").attr("colspan","11"),$("#sticky-thead-1").css("max-width",a),$(".sticky-table-scroll.right").css("right",-1*a)}}clearTimeout(this.id),this.id=setTimeout(a,500)}),$(window).load(function(){$(window).width()<=799?($("#page-options-box").addClass("collapsed"),$("#mobile-left-nav-menu > ul").each(function(){$(this).find("a.active").length&&($(this).removeClass("hide-menu"),$("a.menu-toggle").filter("[data-menu-toggle="+$(this).attr("id")+"]").removeClass("closed"))})):$("#left-nav-menu > ul").each(function(){$(this).find("a.active").length&&($(this).show(),$("a.menu-toggle").filter("[data-menu-toggle="+$(this).attr("id")+"]").removeClass("closed"))})}),$(window).load(function(){if($(".graph-data-overflow").length){var a=$(".graph-data-overflow");a.scrollLeft(999)}if($(".js-todays-date").length){if("undefined"==typeof $.cookie("js-todays-date")){var b=new Date,c=b.getDate(),d=b.getMonth()+1,e=b.getFullYear();10>c&&(c="0"+c),10>d&&(d="0"+d),b=d+"/"+c+"/"+e,$.cookie("js-todays-date",b)}var f=$.cookie("js-todays-date");$(".js-todays-date").text(f)}})}),$(document).ready(function(){if($("body").hasClass("investment-performance")){var a=$("#sticky-thead-1"),b=$(".historical-table-wrap"),c=b.width();$(window).on("scroll",showStickyThead),a.scroll(function(){b.scrollLeft(a.scrollLeft())}),b.scroll(function(){a.scrollLeft(b.scrollLeft())}),$(window).width()>=600?(tableRowHeights(),a.css("max-width",c),$(".sticky-table-scroll.right").css("right",-1*c)):$(window).width()<=599&&$("td.row-fund-data").attr("colspan","2")}if($("body").hasClass("account-summary")&&($(".graph-data-overflow").scrollLeft(999),$(window).width()>=800?growBars():$(window).on("scroll",mobileGrowBars)),$("body").hasClass("manage-investments")&&$(".manage-investments-accordion").length){var d=$.cookie("manage-investments-need-help");"no"===d&&$(".single-accordion-open[data-menu-toggle=investments-accordion-need-help-no]").trigger("click")}if($("body").hasClass("enrollment")&&$("#page-options-box").length){var e=$("input:radio[name=enrollment-sidebar]"),f=$.cookie("enrollment-sidebar");e.filter("[value="+f+"]").trigger("click")}if($("#contributions-adjust-form").length){var g=$("input:radio[name=contributions-version]"),h=$.cookie("contributions-version");g.filter("[value="+h+"]").trigger("click"),"#accelerator"===window.location.hash?$('a[data-modal="contributions-auto-increase-edit"]').trigger("click"):"#removecookie"===window.location.hash&&$.removeCookie("contributions-apply-changes")}$("#contributions-pending-table-1").length&&($(".amountText.amount").text("$2,658"),$("#page-options-box").hide()),$(".contributions-confirm-header").length&&(increaseAmountText(),$("#page-options-box").hide()),$("body").hasClass("ip-table-demo")&&$("input:radio[name=adjust-iframe-size]").click(function(){var a=$(this).val(),b=$("#conclusion-iframe");switch(a){case"dt":b.css("max-width","920px");break;case"tab":b.css("max-width","600px");break;case"sp":b.css("max-width","350px")}})});
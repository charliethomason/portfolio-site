var charlie=charlie||{};charlie.init=function(){function init(){charlie.basics(),null!==document.getElementById("page-gallery")&&charlie.gallery()}init()},charlie.basics=function(){function hamburger(){var burger=document.getElementById("hamburger"),menu=document.querySelector("#main-nav ul");burger.addEventListener("click",function(e){e.preventDefault(),"true"===menu.getAttribute("data-show")?menu.setAttribute("data-show","false"):menu.setAttribute("data-show","true")})}function init(){hamburger()}init()},charlie.gallery=function(){function filters(){var select=document.getElementById("filters"),listEls=document.querySelectorAll(".gallery-grid li");select.addEventListener("change",function(e){e.preventDefault();var value=(select.options[select.selectedIndex],select.value);Array.prototype.forEach.call(listEls,function(el){var elFilters=el.getAttribute("data-filters");"all"===value||elFilters.indexOf(value)>-1?el.style.display="":el.style.display="none"})})}function lightbox(){function closeLightbox(){lightboxImg.setAttribute("src","javascript:void(0)"),lightboxImg.setAttribute("alt",""),lightbox.style.display="none",lightboxTitle.innerHTML=""}var magnifiers=(document.querySelectorAll(".gallery-grid li"),document.querySelectorAll(".magnify")),lightbox=document.getElementById("lightbox-viewer"),lightboxContent=lightbox.querySelector(".lightbox-content"),lightboxImg=lightbox.querySelector("img"),lightboxTitle=lightbox.querySelector(".lightbox-title"),closeBtn=lightbox.querySelector(".lightbox-close");Array.prototype.forEach.call(magnifiers,function(btn){var imgUrl=btn.previousElementSibling.getAttribute("data-img"),imgAlt=btn.previousElementSibling.getAttribute("alt"),imgTitle=btn.nextElementSibling.innerHTML;btn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),lightboxImg.setAttribute("src",imgUrl),lightboxImg.setAttribute("alt",imgAlt),lightbox.style.display="",lightboxTitle.innerHTML=imgTitle})}),closeBtn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),closeLightbox()}),lightboxContent.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),closeLightbox()}),lightboxImg.addEventListener("click",function(e){e.stopPropagation()})}function init(){filters(),lightbox()}init()},charlie.isReady=function(){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?charlie.init():document.addEventListener("DOMContentLoaded",charlie.init)},charlie.isReady();
var charlie=charlie||{};charlie.init=function(){function init(){charlie.basics(),null!==document.getElementById("page-gallery")&&charlie.gallery(),null!==document.getElementById("page-album")&&charlie.album()}init()},charlie.basics=function(){function hamburger(){var burger=document.getElementById("hamburger"),menu=document.querySelector("#main-nav ul");burger.addEventListener("click",function(e){e.preventDefault(),"true"===menu.getAttribute("data-show")?menu.setAttribute("data-show","false"):menu.setAttribute("data-show","true")})}function init(){hamburger()}init()},charlie.gallery=function(){function filters(){var select=document.getElementById("filters"),listEls=document.querySelectorAll(".gallery-grid li");select.addEventListener("change",function(e){e.preventDefault();var value=(select.options[select.selectedIndex],select.value);listEls.forEach(function(el){var elFilters=el.getAttribute("data-filters");"all"===value||elFilters.indexOf(value)>-1?el.style.display="":el.style.display="none"})})}function lightbox(){function closeLightbox(){lightboxImg.setAttribute("src","javascript:void(0)"),lightboxImg.setAttribute("alt",""),lightbox.style.display="none"}var magnifiers=(document.querySelectorAll(".gallery-grid li"),document.querySelectorAll(".magnify")),lightbox=document.getElementById("lightbox-viewer"),lightboxContent=lightbox.querySelector(".lightbox-content"),lightboxImg=lightbox.querySelector("img"),closeBtn=lightbox.querySelector(".lightbox-close");magnifiers.forEach(function(btn){var imgUrl=btn.previousElementSibling.getAttribute("data-img"),imgAlt=btn.previousElementSibling.getAttribute("alt");btn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),lightboxImg.setAttribute("src",imgUrl),lightboxImg.setAttribute("alt",imgAlt),lightbox.style.display=""})}),closeBtn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),closeLightbox()}),lightboxContent.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),closeLightbox()}),lightboxImg.addEventListener("click",function(e){e.stopPropagation()})}function init(){filters(),lightbox()}init()},charlie.album=function(){function lightbox(){var triggerLightbox=document.querySelector(".trigger-lightbox"),allImages=document.querySelectorAll(".img-inpage"),firstImg=allImages[0],lastImg=allImages[allImages.length-1],closeLightbox=document.querySelectorAll(".img-close"),nextImg=document.querySelectorAll(".img-next"),prevImg=document.querySelectorAll(".img-prev");triggerLightbox.addEventListener("click",function(e){e.preventDefault(),toggleLightbox(firstImg)}),allImages.forEach(function(img){img.addEventListener("click",function(e){e.preventDefault(),toggleLightbox(img)})}),closeLightbox.forEach(function(btn){btn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation(),toggleLightbox()})}),nextImg.forEach(function(btn){btn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var currImg=document.querySelector(".fixed-lightbox");toggleLightbox(currImg===lastImg?firstImg:currImg.parentNode.nextElementSibling.children[0])})}),prevImg.forEach(function(btn){btn.addEventListener("click",function(e){e.preventDefault(),e.stopPropagation();var currImg=document.querySelector(".fixed-lightbox");toggleLightbox(currImg===firstImg?lastImg:currImg.parentNode.previousElementSibling.children[0])})})}function toggleLightbox(target){var hasLightbox="img-inpage fixed-lightbox",noLightbox="img-inpage";document.querySelectorAll(".img-inpage").forEach(function(img){(void 0!==target&&img!==target||void 0===target)&&(img.className=noLightbox)}),void 0!==target&&(target.className=target.className===hasLightbox?noLightbox:hasLightbox)}function init(){lightbox()}init()},charlie.isReady=function(){(document.attachEvent?"complete"===document.readyState:"loading"!==document.readyState)?charlie.init():document.addEventListener("DOMContentLoaded",charlie.init)},charlie.isReady();